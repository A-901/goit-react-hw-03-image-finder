(this["webpackJsonphm3.1"]=this["webpackJsonphm3.1"]||[]).push([[0],{22:function(e,t,a){e.exports={Button:"Button_Button__3A1fL"}},24:function(e,t,a){e.exports={loader:"Loader_loader__1HHFg"}},25:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2egOE"}},26:function(e,t,a){e.exports=a(69)},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(20),l=a.n(o),c=a(10),i=a(3),u=a(4),s=a(6),m=a(5),h=a(21),p=a.n(h),d="17137658-c8f891f03fe3a9735392fc394",g="&image_type=photo&orientation=horizontal&per_page=12",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";return p.a.get("https://pixabay.com/api/?"+"q=".concat(e,"&page=").concat(t,"&key=")+d+g)},y=a(1),v=a.n(y),b=a(8),S=a.n(b),_=function(e){var t=e.img,a=e.onGetFullUrl;return r.a.createElement("li",{className:S.a.ImageGalleryItem},r.a.createElement("img",{src:t.previewURL,alt:t.id,className:S.a.ImageGalleryItemImage,onClick:a}))};_.ptopTypes={img:v.a.object.isRequired,onGetFullUrl:v.a.func.isRequired};var E=_,I=a(22),O=a.n(I),C=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.onLoadMore;return r.a.createElement("button",{type:"button",className:O.a.Button,onClick:e},"Load more")}}]),a}(n.Component),F=a(23),M=a.n(F),j=a(24),L=a.n(j),G=function(){return r.a.createElement(M.a,{className:L.a.loader,type:"ThreeDots",color:"#3f51b5",height:100,width:100,timeout:3e3})},w=a(25),k=a.n(w),N=function(e){var t=e.imgArray,a=e.onGetFullUrl,n=e.loadMoreIMG,o=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:k.a.ImageGallery},t.map((function(e){return r.a.createElement(E,{key:e.id,img:e,onGetFullUrl:function(){return a(e.largeImageURL)}})}))),o&&r.a.createElement(G,null),r.a.createElement(C,{onLoadMore:n}))},U=a(7),A=a.n(U),B=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChange=function(t){e.setState({value:t.target.value})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.value;(0,e.props.onSubmit)(a),e.setState({value:""})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("header",{className:A.a.Searchbar},r.a.createElement("form",{className:A.a.SearchForm,onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:A.a.SearchFormButton},r.a.createElement("span",{className:A.a.SearchFormButtonLabel},"Search")),r.a.createElement("input",{className:A.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:e,onChange:this.handleChange})))}}]),a}(n.Component),x=a(9),R=a.n(x),q=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={},e.closeOnEscape=function(t){"Escape"===t.code&&(0,e.props.onClose)()},e.handelCloseModal=function(t){t.target===t.currentTarget&&(0,e.props.onClose)()},e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){window.addEventListener("keydown",this.closeOnEscape)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.closeOnEscape)}},{key:"render",value:function(){var e=this.props.src;return r.a.createElement("div",{className:R.a.Overlay,onClick:this.handelCloseModal},r.a.createElement("div",{className:R.a.Modal},r.a.createElement("img",{src:e,alt:""})))}}]),a}(n.Component),D=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isModalOpen:!1,imgArray:[],query:"",pageCounter:1,fullURL:"",isLoading:!1},e.onSearch=function(){var t=document.documentElement.scrollHeight;e.setState({isLoading:!0}),f(e.state.query,e.state.pageCounter).then((function(t){var a=t.data;e.setState({imgArray:[].concat(Object(c.a)(e.state.imgArray),Object(c.a)(a.hits))})})).catch((function(e){console.log(e)})).finally((function(){window.scrollTo({top:t,behavior:"smooth"}),e.setState({isLoading:!1})}))},e.openModal=function(){e.setState({isModalOpen:!0})},e.closeModal=function(){e.setState({isModalOpen:!1})},e.handelFullUrl=function(t){e.setState({fullURL:t,isModalOpen:!0})},e.onFormSubmit=function(t){e.setState({query:t,imgArray:[],pageCounter:1})},e.handelPageCounter=function(){e.setState({pageCounter:e.state.pageCounter+1})},e}return Object(u.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.pageCounter===this.state.pageCounter&&t.query===this.state.query||this.onSearch()}},{key:"render",value:function(){var e=this.state,t=e.isModalOpen,a=e.imgArray,n=e.fullURL,o=e.isLoading;return r.a.createElement("div",{className:"App"},r.a.createElement(B,{onSubmit:this.onFormSubmit}),a.length>0&&r.a.createElement(N,{imgArray:a,onGetFullUrl:this.handelFullUrl,loadMoreIMG:this.handelPageCounter,isLoading:o}),t&&r.a.createElement(q,{src:n,onClose:this.closeModal}))}}]),a}(n.Component);function T(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null))}l.a.render(r.a.createElement(T,null),document.getElementById("root"))},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__1NxJw",SearchForm:"Searchbar_SearchForm__3zo_Y",SearchFormButton:"Searchbar_SearchFormButton__2_Cin",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__31ZSE",SearchFormInput:"Searchbar_SearchFormInput__2FEbQ"}},8:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__XRhBQ",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__PMjDI"}},9:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2DZwR",Modal:"Modal_Modal__2Amdj"}}},[[26,1,2]]]);
//# sourceMappingURL=main.c0a44c53.chunk.js.map